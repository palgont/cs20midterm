<!DOCTYPE html>
<html>
    <head>
        <!-- URL: http://localhost:5500/midterm/index.html -->
        <title>Rent Housing</title>
        <!-- Link to external style sheet -->
        <link rel="stylesheet" href="styles.css">
        <!-- For JQuery usage -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" 
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" 
        crossorigin="anonymous"></script>
        <!--Font Style-->
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,
        wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
        <!-- For responsiveness -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <style>
            #first { 
                display: flex;
            }

            #main { 
                background-color: aqua;
                border: 2px solid block;
                width: 75%;
                

            }

            .rows { 
                justify-content: center;
                margin: 20px auto;
            }

            .imgDiv { 
                margin : 10px ; 

            }

            #sidebar { 
                /* background-color: yellow; */
                border: 2px solid block;
                width: 25%;
                justify-content: center;
                text-align: center;                
            }

            #in_sidebar{ 
                width: 20%;
                top: 250px;
                left: 35px;
                border: 2px solid #50affd;
                padding: 50px 10px;
                border-radius: 5px;
                transition: 0.2s ease;
                box-shadow: -5px -5px 10px #888888;
                position: fixed;
            }

            #in_sidebar:hover { 
                border: 1px solid #008cba;
            }

            #in_sidebar input { 
                width: 90%; 
                height: 35px; 
                margin: 20px 0;
                border-radius: 5px;
                border: 1px solid #ccc;
            }


            #rntl_prd { 
                width: 90%;
                height: 35px ;
                margin: 20px 0;
                border-radius: 5px;
                border: 1px solid #ccc;
                color:  #ccc ;
            }

            #in_sidebar button { 
                width : 70px;
                color: white ;
                padding: 6px;
                border-radius: 5px;
                background-color: #50affd;
                border: none; 
                
                transition: 0.2s ease;
            }

            #in_sidebar button:hover { 
                background-color: #008cba;
                
            }

           
            .img { 
                width: 400px;
                height: 300px;
            }
            .rows{ 
                display: flex;
            }


           

            /* @media () */

        </style>        
    </head>
    <body>
     
        
        <!-- Header -->
        <header>
            <a href="index.html">
                <div id = "img_container">
                    <img id="logo" src="./images/house_logo.png">
                </div>
            </a>
            <span id="title">PropertyPath</span>
        </header>
        <!-- Navagation Bar -->
        <nav>
            <a href="index.html">Home </a>
            <a href="buy.html">Buy </a>
            <a href="rent.html">Rent</a>
            <a href="sell.html">Sell</a>
            <a href="agents.html">Agents</a>
            <a href="qanda.html">Q/A</a>
            <a href="contact.html">Contact Us</a>
        </nav>
        <div id = "below_nav"></div>
        <section id="first">
            
            <div id="sidebar">
                <div id="in_sidebar">
                    <input type="text" placeholder="Price range" id="price_rng">
                    <input type="text" placeholder="# Bedrooms" id="num_bdrms">
                    <input type="text" placeholder="# Stories" id="num_stories">
                    <input type="text" placeholder="Location" id="location">
                    <!-- <div>  -->
                    <select name="Rental period" id="rntl_prd">
                        <option value="#"> Rental Period</option>
                    </select>
                    <!-- </div> -->
                    <button>Search</button>
                   
                    <!-- We probablly want to call an API for location -->

                </div>

            </div>
            
            <div id="main">               
            </div>
            <script>
                $(document).ready(function(){ 

                    fetch('./house_data.json')
                    .then (response => response.json())
                    .then (data => displayHouses(data.houses))
                    .catch (error => console.log(error))
            
                    function displayHouses(houses) {                    
                        for (i = 0; i < (Math.ceil(houses.length/3)); i++) { 
                            var newRow = $('<div>')
                            .attr("id", "row" + i)
                            .addClass("rows")
                         
                            for(j = 0; j < 3; j++) { 
                                
                                if(houses[i].sellOrRent == "rent") { 
                                //Create Image div and image
                                var newImgDiv = $('<div>')
                                    .addClass("imgDiv");
                                var newImg = $('<img>')
                                    .attr('src', './images/'+houses[j].img)
                                    .addClass("img");
                                //Add image to image div
                                newImgDiv.append(newImg);
                                //Add image_div to row_div
                                newRow.append(newImgDiv);
                                }    
                            }
                            console.log(newRow.html()); 
                            //Add newRow
                            $("#main").append(newRow);
                        }  
                        console.log($("#main").html());                      
                    }
                })
                
            </script>
        </section>

        <!-- Footer -->
        <footer>
            <p>PropertyPath &nbsp;|&nbsp;+1(###)-###-#### &nbsp;| 
                &nbsp; <a href="mailto:propertypath@gmail.com">
                    propertypath@gmail.com</a></p>
        </footer>
    </body>
</html>

